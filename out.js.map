{
  "version": 3,
  "sources": ["modules/hardware.js", "modules/graphical-user-interface/ContextMenuManager.js", "modules/graphical-user-interface/EventManager.js", "modules/graphical-user-interface/IconManager.js", "modules/graphical-user-interface/theme.js", "modules/graphical-user-interface/ThemeManager.js", "modules/graphical-user-interface/CustomWindow.js", "modules/graphical-user-interface/WindowManager.js", "modules/graphical-user-interface/index.js", "modules/software-manager.js", "modules/storage.js", "modules/file-system.js", "modules/softwares/desktop.js", "modules/softwares/dock/dock.ui.js", "modules/softwares/dock/dock.js", "modules/softwares/file-manager.js", "modules/softwares/file-reader.js", "modules/softwares/settings.js", "modules/softwares/window-creator.js", "modules/operating-system.js", "main.js"],
  "sourcesContent": ["function Hardware() {\n  this.listener = {\n    mousedown: {},\n    mousemove: {},\n    mouseup: {},\n    mouseenter: {},\n    mouseleave: {},\n    contextmenu: {},\n\n    keydown: {},\n    keyup: {},\n\n    resize: {}\n  }\n}\n\n/**\n* @param {String} id event listener unique id\n* @param {String} event e.g. mousedown, keyup, etc.\n* @param {Function} cb event callback\n*/\nHardware.prototype.addListener = function (id, event, cb) {\n  if (!event || !id || !cb) throw Error('Invalid arguments.', { event, id, cb })\n  if (!this.listener[event]) throw Error('Unknown event.', event)\n\n  this.listener[event][id] = cb\n  window.addEventListener(event, cb)\n}\n\n/**\n* @param {String} id event listener unique id\n* @param {String} event e.g. mousedown, keyup, etc.\n*/\nHardware.prototype.removeListener = function (id, event) {\n  if (!event || !id) throw Error('Invalid arguments.', { event, id })\n  if (!this.listener[event]) throw Error('Unknown event.', event)\n  if (!this.listener[event][id]) throw Error(`No ${event} listener with this id: ${id}`)\n\n  window.removeEventListener(event, this.listener[event][id])\n  delete this.listener[event][id]\n}\n\nconst hardware = new Hardware()\n\nexport { Hardware, hardware }\n\n/* @todo add test */\n// const hm = new Hardware()\n// hm.addListener('mousedown', 'mousedown1', e => {\n//   hm.removeListener('mousedown', 'mousedown1')\n// })", "import { hardware } from \"../hardware\";\n\nconst BODY = document.body\n\nfunction ContextMenuManager(themeManager) {\n  const self = this\n  this.$contextMenu = undefined;\n  this.$contextMenus = [];\n  this.getContextMenu = () => { }\n\n  this.showContextMenu = function (x, y, content) {\n    const $menu = document.createElement('div')\n    $menu.style.border = '1px solid'\n    $menu.style.padding = '8px'\n    $menu.style.position = 'absolute'\n    $menu.style.zIndex = 9\n    $menu.style.left = x + 'px'\n    $menu.style.top = y + 'px'\n\n    try {\n      $menu.style.backgroundColor = themeManager.getTheme().style.body.backgroundColor\n    } catch (error) {\n      console.error(error)\n    }\n\n    $menu.onclick = () => this.destroyContextMenu()\n    $menu.oncontextmenu = (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    if (content) {\n      content.forEach(element => {\n        element.style.display = 'block'\n        $menu.appendChild(element)\n      });\n    } else {\n      this.$contextMenus.forEach(element => {\n        $menu.appendChild(element)\n      });\n    }\n\n    this.$contextMenu = $menu\n\n    BODY.appendChild(this.$contextMenu)\n  }\n\n  this.moveContextMenu = function (x, y) {\n    this.$contextMenu.style.left = x + 'px'\n    this.$contextMenu.style.top = y + 'px'\n  }\n\n  this.destroyContextMenu = function () {\n    if (!this.$contextMenu) return\n    this.$contextMenu.remove()\n    this.$contextMenu = undefined\n  }\n\n  this.addToContextMenu = function (dom) {\n    dom.style.display = 'block'\n    this.$contextMenus.push(dom)\n  }\n\n  this.initEventListeners = function () {\n    hardware.addListener('UI', 'contextmenu', e => {\n      e.preventDefault()\n\n      this.getContextMenu(e.target)\n\n      if (this.$contextMenu) {\n        this.moveContextMenu(e.clientX, e.clientY)\n        return\n      }\n\n      this.showContextMenu(e.clientX, e.clientY)\n    })\n\n    hardware.addListener('UI', 'mousedown', e => {\n      if (!this.$contextMenu || e.target === this.$contextMenu) return\n      if (this.$contextMenu.contains(e.target)) return\n      this.destroyContextMenu()\n    })\n  }\n\n}\n\nexport { ContextMenuManager }", "import { hardware } from \"../hardware\"\n\nfunction EventManager() {\n  const listener = {}\n\n  this.setListener = (id) => {\n    listener[id] = {}\n  }\n\n  this.addListener = function (id, key, fn) {\n    listener[id][key] = fn\n  }\n\n  this.removeListener = function (id) {\n    delete listener[id]\n  }\n\n  this.init = () => {\n    hardware.addListener('UI', 'mousemove', e => {\n      for (let [, v] of Object.entries(listener)) {\n        if (v['mousemove']) v['mousemove'](e)\n      }\n    })\n\n    hardware.addListener('UI', 'mouseup', e => {\n      for (let [, v] of Object.entries(listener)) {\n        if (v['mouseup']) v['mouseup'](e)\n      }\n    })\n  }\n}\n\nexport { EventManager }", "/* @todo add icon gui\n<!-- file &#128196; -->\n<!-- folder &#128193; -->\n<!-- app &#9670; -->\n*/\n\nfunction IconManager(eventManager) {\n  this.createIcon = function (id, dom) {\n    eventManager.setListener(id)\n\n    let isMouseDown = false\n    let isDragging = false\n    let startPoint = { x: 0, y: 0 }\n    let distance = { x: 0, y: 0 }\n\n    const $icon = document.createElement('div')\n    $icon.appendChild(dom)\n    $icon.style.border = '1px solid'\n    $icon.style.position = 'absolute'\n    $icon.style.left = 0\n    $icon.style.top = 0\n    $icon.style.cursor = 'grab'\n    $icon.style.userSelect = 'none'\n\n    $icon.onmousedown = ev => {\n      isMouseDown = true\n\n      startPoint.x = ev.clientX\n      startPoint.y = ev.clientY\n      distance.x = Math.abs(startPoint.x - $icon.offsetLeft)\n      distance.y = Math.abs(startPoint.y - $icon.offsetTop)\n\n      $icon.style.cursor = 'grabbing'\n    }\n    eventManager.addListener(id, 'mousemove', ev => {\n      if (!isMouseDown) return\n      isDragging = true\n\n      $icon.style.left = (ev.clientX - distance.x) + 'px'\n      $icon.style.top = (ev.clientY - distance.y) + 'px'\n    })\n    eventManager.addListener(id, 'mouseup', () => {\n      isMouseDown = false\n      isDragging = false\n\n      $icon.style.cursor = 'grab'\n    })\n\n    return $icon\n  }\n}\n\nexport { IconManager }", "const darkTheme = {\n  name: 'dark',\n  backgroundColor: '#222222',\n  borderWidth: 1, //px\n  borderStyle: 'solid',\n  style: {\n    body: {\n      backgroundColor: '#222222',\n      color: '#ffffff',\n      fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"\n    },\n    button: {\n      cursor: 'pointer',\n    },\n  }\n}\n\nconst lightTheme = {\n  name: 'light',\n  backgroundColor: '#ffffff',\n  borderWidth: 1, //px\n  borderStyle: 'solid',\n  style: {\n    body: {\n      backgroundColor: '#ffffff',\n      color: '#222222',\n      fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"\n    },\n    button: {\n      cursor: 'pointer',\n    },\n  }\n}\n\nexport const themeMap = {\n  dark: darkTheme,\n  light: lightTheme\n}\n", "import { themeMap } from \"./theme\"\n\nconst HEAD = document.head\nconst BODY = document.body\n\nfunction ThemeManager(gui) {\n  let theme = null\n  this.themeListeners = []\n\n  function generateStyleDOM(theme) {\n    const style = document.createElement('style')\n\n    for (let [selector, selectorValue] of Object.entries(theme.style)) {\n      if (selector === 'body') {\n        for (let [prop, propValue] of Object.entries(selectorValue)) {\n          BODY.style[prop] = propValue\n        }\n      }\n      else if (selector === 'button') {\n        let buttonStyle = ''\n        for (let [prop, propValue] of Object.entries(selectorValue)) {\n          buttonStyle += `${toKebabCase(prop)}: ${propValue}; `\n        }\n        style.innerHTML += `button { ${buttonStyle} }`\n      }\n    }\n\n    return style\n  }\n\n  this.getTheme = () => theme\n\n  this.setTheme = function (newTheme, callback) {\n    if (!newTheme) throw Error('Unknown newTheme', newTheme)\n\n    /* allow theme to be a key of themeMap instead of a theme object */\n    if (typeof newTheme === 'string' && themeMap[newTheme]) {\n      this.setTheme(themeMap[newTheme])\n      return\n    }\n\n    /* remove existing theme style */\n    if (theme !== null) HEAD.removeChild(theme.$style)\n\n    /* generate style from theme */\n    const style = generateStyleDOM(newTheme)\n\n    /* finally, set new theme */\n    theme = { ...newTheme, $style: style }\n    HEAD.appendChild(style)\n\n    this.notify(theme)\n\n    if (callback) callback(theme)\n  }\n\n  this.addListener = (fn) => {\n    this.themeListeners.push(fn)\n  }\n\n  this.notify = (theme) => {\n    this.themeListeners.forEach(fn => fn(theme))\n  }\n}\n\nfunction toKebabCase(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\nexport { ThemeManager }\n", "/* @todo code-split this */\n\n'use strict';\n\nfunction WindowHeader(args) {\n  const options = {\n    name: '',\n    onmousedown: () => { },\n    onclose: () => { },\n    ...args,\n  }\n\n  this.$element = document.createElement('div')\n\n  if (options.draggable) this.$element.style.cursor = 'grab'\n  else this.$element.style.cursor = 'auto'\n  this.$element.style.borderBottom = `${options.style.borderWidth}px ${options.style.borderStyle}`\n  this.$element.style.padding = options.style.padding + 'px'\n\n  const $closeButton = document.createElement('button')\n  $closeButton.style.marginRight = options.style.padding + 'px'\n  $closeButton.innerHTML = '&#x2715'\n  this.$element.appendChild($closeButton)\n\n  this.$element.innerHTML += options.name\n\n  this.$element.onmousedown = e => {\n    options.onmousedown()\n\n    if (options.draggable) {\n      this.$element.style.cursor = 'grabbing'\n    }\n  }\n\n  this.$element.onmouseup = e => {\n    if (e.target.innerText === \"\u2715\") {\n      options.onclose()\n      return\n    }\n\n    if (options.draggable) {\n      this.$element.style.cursor = 'grab'\n    }\n  }\n\n  return this\n}\n\nfunction WindowBody(options) {\n  this.$element = document.createElement('div')\n  this.$element.style.padding = options.style.padding + 'px'\n  this.$element.style.overflow = 'auto'\n  this.$element.style.cursor = 'auto'\n  this.$element.style.boxSizing = 'border-box'\n  this.$element.style.height = '100%'\n\n  this.reset = (dom) => {\n    this.$element.innerHTML = ''\n    this.$element.appendChild(dom)\n  }\n\n  return this\n}\n\nfunction CustomWindow(args, themeManager) {\n  const self = this\n  const options = {\n    id: Math.random().toString(36).slice(2, 9),\n    style: {\n      padding: 8,\n      borderWidth: 1,\n      borderStyle: 'solid'\n    },\n    ...args\n  }\n\n  themeManager.addListener((theme) => {\n    this.$background.style.backgroundColor = theme.style.body.backgroundColor\n  })\n\n  this.id = options.id\n  this.name = options.name || this.id\n  this.isHeaderMousedown = false\n  this.minWidth = 150\n  this.minHeight = 150\n  const extraSize = 50\n  this.padding = options.style.padding\n\n  /**\n   * Threshold in pixels for detecting resizer locations and change cursor.\n   * - Min: 3\n   * - Max: 10\n   * - Bigger == easier to spot resizers & cost more CPU task.\n   */\n  this.cursorThreshold = options.style.padding // px\n  this.eventListener = { close: [] }\n\n  /* Definitions */\n  this.$window = document.createElement('div')\n  this.$background = document.createElement('div')\n  this.$wrapper = document.createElement('div')\n  this.$wrapper.appendChild(this.$background)\n  this.$window.appendChild(this.$wrapper)\n\n  this.$background.style.backgroundColor = themeManager.getTheme().style.body.backgroundColor\n\n\n  /* Header */\n  this.header = new WindowHeader({\n    ...options,\n    name: this.name,\n    onmousedown: () => this.isHeaderMousedown = true,\n    onclose: handleClose\n  })\n  this.$wrapper.appendChild(this.header.$element)\n\n  /* Body */\n  this.body = new WindowBody(options)\n  this.$wrapper.appendChild(this.body.$element)\n\n  /* Styles */\n  this.$window.style.padding = options.style.padding + 'px'\n  this.$window.style.boxSizing = 'border-box'\n  this.$window.style.userSelect = 'none'\n  this.$window.style.minWidth = this.minWidth + 'px'\n  this.$window.style.minHeight = this.minHeight + 'px'\n  if (options.initialWidth) {\n    this.$window.style.width = options.initialWidth + extraSize + 'px'\n  } else {\n    this.$window.style.width = this.minWidth + extraSize + 'px'\n  }\n  this.$window.style.height = this.minHeight + extraSize + 'px'\n\n  this.$background.style.position = 'absolute'\n  this.$background.style.left = 0\n  this.$background.style.top = 0\n  this.$background.style.right = 0\n  this.$background.style.bottom = 0\n  this.$background.style.zIndex = -1\n  this.$background.style.opacity = 0.9\n\n  this.$wrapper.style.minWidth = this.minWidth - options.style.padding * 2 + 'px'\n  this.$wrapper.style.minHeight = this.minHeight - options.style.padding * 2 + 'px'\n  this.$wrapper.style.width = this.minWidth + extraSize - options.style.padding * 2 + 'px'\n  this.$wrapper.style.height = this.minHeight + extraSize - options.style.padding * 2 + 'px'\n  this.$wrapper.style.position = 'absolute'\n  this.$wrapper.style.border = `${options.style.borderWidth}px ${options.style.borderStyle}`\n  this.$wrapper.style.overflow = 'hidden'\n\n  /* Interaction */\n  this.$window.oncontextmenu = e => {\n    e.preventDefault()\n    e.stopPropagation()\n  }\n\n  function handleClose() {\n    self.$window.remove()\n\n    self.eventListener.close.forEach(listener => {\n      listener()\n    });\n  }\n\n  return this\n}\n\nCustomWindow.prototype.addEventListener = function (eventKey, fn) {\n  this.eventListener[eventKey].push(fn)\n}\n\n/**\n * Get selected resizer\n * @param {Event} ev click event\n */\nCustomWindow.prototype.getClickedResizer = function (x, y) {\n  /* \"n\" or \"north\" means, mouse y is below top side and above {top side + cursor threshold} */\n  const n = y > this.$window.offsetTop\n    && y < this.$window.offsetTop + this.cursorThreshold,\n    e = x < this.$window.offsetLeft + this.$window.offsetWidth\n      && x > this.$window.offsetLeft + this.$window.offsetWidth - this.cursorThreshold,\n    s = y < this.$window.offsetTop + this.$window.offsetHeight\n      && y > this.$window.offsetTop + this.$window.offsetHeight - this.cursorThreshold,\n    w = x > this.$window.offsetLeft\n      && x < this.$window.offsetLeft + this.cursorThreshold\n\n  return s && e ? 'se'\n    : s && w ? 'sw'\n      : n && e ? 'ne'\n        : n && w ? 'nw'\n          : n ? 'n'\n            : e ? 'e'\n              : s ? 's'\n                : w ? 'w'\n                  : ''\n}\n\nCustomWindow.prototype.setContent = function (element) {\n  this.body.reset(element)\n}\n\nCustomWindow.prototype.finalize = function () {\n  this.$wrapper.style.width = this.$window.offsetWidth - this.padding * 2 + 'px'\n  this.$wrapper.style.height = this.$window.offsetHeight - this.padding * 2 + 'px'\n\n  this.body.$element.style.maxHeight = this.$wrapper.offsetHeight - this.header.$element.offsetHeight + 'px'\n}\n\nexport { CustomWindow }\n", "import { CustomWindow } from \"./CustomWindow\"\n\nconst BODY = document.body\n\nfunction WindowManager(eventManager, themeManager) {\n  const self = this\n  const windowByName = {}\n\n  this.sendToTop = function (customWindow) {\n    if (!customWindow) return\n\n    /* Decrease all windows zIndex,\n    increase clicked window's zIndex */\n    for (let [, v] of Object.entries(windowByName)) {\n      const parsed = parseInt(v.$window.style.zIndex)\n      if (parsed > 1) v.$window.style.zIndex = parsed - 1\n    }\n\n    customWindow.$window.style.zIndex = 5\n  }\n\n  function initWindowInteraction(customWindow, options = {}) {\n    if (!customWindow) throw Error('Unknown customWindow', customWindow)\n    const $window = customWindow.$window\n    const $wrapper = customWindow.$wrapper\n    $window.style.position = 'absolute'\n\n    const { resizeable, draggable, style = { padding: 16 } } = options\n\n    let startPoint = { x: 0, y: 0 }\n    let distance = { x: 0, y: 0 }\n    let startDimension = { w: 0, h: 0 }\n    let isMouseDown = false\n    let isResizing = false\n    let isDragging = false\n    let resizePoint = ''\n\n    const prepareForInteraction = ev => {\n      isMouseDown = true\n\n      self.sendToTop(customWindow)\n\n      startPoint.x = ev.clientX\n      startPoint.y = ev.clientY\n      startDimension.w = $window.offsetWidth\n      startDimension.h = $window.offsetHeight\n      distance.x = Math.abs(startPoint.x - $window.offsetLeft)\n      distance.y = Math.abs(startPoint.y - $window.offsetTop)\n      resizePoint = customWindow.getClickedResizer(ev.clientX, ev.clientY)\n    }\n\n    const getProperCursor = ev => {\n      if (isResizing || isDragging) return\n\n      const n = ev.clientY > $window.offsetTop\n        && ev.clientY < $window.offsetTop + customWindow.cursorThreshold,\n        e = ev.clientX < $window.offsetLeft + $window.offsetWidth\n          && ev.clientX > $window.offsetLeft + $window.offsetWidth - customWindow.cursorThreshold,\n        s = ev.clientY < $window.offsetTop + $window.offsetHeight\n          && ev.clientY > $window.offsetTop + $window.offsetHeight - customWindow.cursorThreshold,\n        w = ev.clientX > $window.offsetLeft\n          && ev.clientX < $window.offsetLeft + customWindow.cursorThreshold\n\n      if ((n && w) || (s && e)) {\n        $window.style.cursor = 'nwse-resize'\n        return\n      } else if ((n && e) || (s && w)) {\n        $window.style.cursor = 'nesw-resize'\n        return\n      } else if (e || w) {\n        $window.style.cursor = 'col-resize'\n        return\n      } else if (n || s) {\n        $window.style.cursor = 'row-resize'\n        return\n      }\n      $window.style.cursor = 'auto'\n    }\n\n    /* warning: this function below called on every mousemove on window */\n    const dragAndResize = e => {\n      if (!isMouseDown) return\n\n      if (customWindow.isHeaderMousedown) {\n        if (!draggable) return\n\n        $window.style.left = (e.clientX - distance.x) + 'px'\n        $window.style.top = (e.clientY - distance.y) + 'px'\n      } else {\n        if (!resizeable) return\n\n        if (resizePoint.includes('e')) {\n          $window.style.width = (startDimension.w - (startPoint.x - e.clientX)) + 'px'\n          $wrapper.style.width = (startDimension.w - (startPoint.x - e.clientX)) - customWindow.padding * 2 + 'px'\n        } else if (resizePoint.includes('w')) {\n          if (e.clientX - distance.x < startPoint.x + startDimension.w - style.padding * 2 - customWindow.cursorThreshold) {\n            if ((startDimension.w + (startPoint.x - e.clientX)) - customWindow.minWidth > 0) {\n              $window.style.left = (e.clientX - distance.x) + 'px'\n              $window.style.width = (startDimension.w + (startPoint.x - e.clientX)) + 'px'\n              $wrapper.style.width = (startDimension.w + (startPoint.x - e.clientX)) - customWindow.padding * 2 + 'px'\n            }\n          }\n        }\n\n        if (resizePoint.includes('s')) {\n          $window.style.height = (startDimension.h - (startPoint.y - e.clientY)) + 'px'\n          $wrapper.style.height = (startDimension.h - (startPoint.y - e.clientY)) - customWindow.padding * 2 + 'px'\n        } else if (resizePoint.includes('n')) {\n          if (e.clientY - distance.y < startPoint.y + startDimension.h - style.padding * 2 - customWindow.cursorThreshold) {\n            if ((startDimension.h + (startPoint.y - e.clientY)) - customWindow.minHeight > 0) {\n              $window.style.top = (e.clientY - distance.y) + 'px'\n              $window.style.height = (startDimension.h + (startPoint.y - e.clientY)) + 'px'\n              $wrapper.style.height = (startDimension.h + (startPoint.y - e.clientY)) - customWindow.padding * 2 + 'px'\n            }\n          }\n        }\n\n        customWindow.body.$element.style.maxHeight = $wrapper.offsetHeight - customWindow.header.$element.offsetHeight + 'px'\n      }\n    }\n\n    $window.onmousedown = prepareForInteraction\n    if (resizeable) $window.onmousemove = getProperCursor\n\n    /* add custom window's listener to UI manager window event listeners */\n\n    eventManager.addListener(customWindow.id, 'mousemove', dragAndResize)\n    eventManager.addListener(customWindow.id, 'mouseup', () => {\n      isMouseDown = false\n      isResizing = false\n      isDragging = false\n      customWindow.isHeaderMousedown = false\n    })\n  }\n\n  /**\n   *\n   * @param {Object} args\n   * draggable, resizeable,\n   * style.padding, style.borderWidth, style.borderStyle\n   * @returns\n   */\n  this.createWindow = function (args) {\n    const options = {\n      draggable: false,\n      resizeable: false,\n      theme: themeManager.getTheme(),\n      ...args\n    }\n\n    /* Definition */\n    const customWindow = new CustomWindow(options, themeManager)\n\n    if (windowByName[customWindow.name]) return;\n\n    windowByName[customWindow.name] = customWindow\n\n    /* [side-effects] Init listener for window */\n    eventManager.setListener(customWindow.id)\n\n    if (options.draggable || options.resizeable) {\n      initWindowInteraction(customWindow, options)\n    }\n\n    /* Also remove custom window's listeners when the element destroyed */\n    customWindow.addEventListener('close', function () {\n      self.destroyWindow(customWindow.name)\n    })\n\n    BODY.appendChild(customWindow.$window)\n    customWindow.finalize()\n\n    return customWindow\n  }\n\n  this.destroyWindow = function (name) {\n    const customWindow = windowByName[name]\n\n    /* side-effects */\n    eventManager.removeListener(customWindow.id)\n\n    delete windowByName[name]\n  }\n\n  this.closeAllWindow = function () {\n    for (let [, v] of Object.entries(windowByName)) {\n      v.$window.remove()\n      this.destroyWindow(v.name)\n    }\n  }\n\n  this.isWindowOpened = function (name) {\n    return windowByName[name] !== undefined\n  }\n\n  this.setWindowContent = function (name, element) {\n    const customWindow = windowByName[name]\n    if (customWindow) customWindow.setContent(element)\n  }\n\n  this.notify = (theme) => {\n    /* assumes all windows have `setTheme` method */\n    for (let [, v] of Object.entries(windowByName)) {\n      v.setTheme(theme)\n    }\n  }\n\n}\n\nexport { WindowManager }", "/**\n * features:\n * - theme switching\n * - custom context menu\n * - customWindow management\n * - event management\n * - icon management?\n */\n\n'use strict';\n\nimport { ContextMenuManager } from \"./ContextMenuManager\";\nimport { EventManager } from \"./EventManager\";\nimport { IconManager } from \"./IconManager\";\nimport { ThemeManager } from \"./ThemeManager\";\nimport { WindowManager } from \"./WindowManager\";\n\nlet instance;\n\nfunction GraphicalUserInterface() {\n  const self = this\n\n  const eventManager = new EventManager(self)\n  const themeManager = new ThemeManager(self)\n  const windowManager = new WindowManager(eventManager, themeManager)\n  const contextMenuManager = new ContextMenuManager(themeManager)\n  const iconManager = new IconManager(eventManager)\n\n  this.themeListeners = []\n\n  this.setWindowContent = (...args) => windowManager.setWindowContent(...args)\n  this.sendToTop = (...args) => windowManager.sendToTop(...args)\n  this.createWindow = (...args) => windowManager.createWindow(...args)\n  this.createIcon = (id, dom) => iconManager.createIcon(id, dom)\n  this.getTheme = () => themeManager.getTheme()\n  this.showContextMenu = (...args) => contextMenuManager.showContextMenu(...args)\n  this.setTheme = (newTheme) => themeManager.setTheme(newTheme, (theme) => {\n    /* Side effects */\n    windowManager.notify(theme)\n  })\n  this.addThemeListener = (cb) => themeManager.addListener(cb)\n  this.closeAllWindow = () => windowManager.closeAllWindow()\n\n  this.init = () => {\n    this.setTheme('dark')\n\n    eventManager.init()\n    contextMenuManager.initEventListeners()\n  }\n\n  return this\n}\n\nconst getInstance = () => {\n  if (!instance) instance = new GraphicalUserInterface()\n  return instance\n}\n\nexport { GraphicalUserInterface, getInstance }\n", "'use strict'\n\nconst DEBUG = true\n\n/**\n * @type SoftwareManager\n */\nlet instance\n\nfunction SoftwareManager() {\n  this.accessKey = 'software'\n  this.software = new Map()\n  this.listener = {\n    install: []\n  }\n}\n\n/**\n * installing a software (NOT auto-run it)\n * @param {Software} software\n */\nSoftwareManager.prototype.install = function (software) {\n  if (!software) throw Error('Undefined software.')\n  if (!software.name) throw Error('Software name is required.')\n  if (!software.start) throw Error('Software start function is required.')\n\n  this.software.set(software.name, software)\n\n  this.listener.install.forEach(fn => fn());\n}\n\nSoftwareManager.prototype.getAllExcepts = function (filter) {\n  let softwares = []\n  for (const [key, value] of this.software) {\n    if (!filter.includes(key)) softwares.push(value)\n  }\n  return softwares\n}\n\nSoftwareManager.prototype.getAllExcept = function (name) {\n  let softwares = []\n  for (const [key, value] of this.software) {\n    if (key !== name) softwares.push(value)\n  }\n  return softwares\n}\n\nSoftwareManager.prototype.get = function (name) {\n  if (!name || !this.software.get(name)) throw Error('Unknown software.')\n  return this.software.get(name)\n}\n\nSoftwareManager.prototype.run = function (key, payload) {\n  const s = this.software.get(key)\n  if (!s) throw Error('unknown software:', key)\n  s.start(payload)\n}\n\nSoftwareManager.prototype.addEventListener = function (event, cb) {\n  if (!this.listener[event]) throw Error('Unknown event.', event)\n\n  this.listener[event].push(cb)\n}\n\n/**\n * @returns SoftwareManager instance\n */\nconst getInstance = () => {\n  if (!instance) instance = new SoftwareManager()\n  return instance\n}\n\nexport { SoftwareManager, getInstance }", "let instance\n\nfunction Storage() {\n  let size = 0\n  const data = new Map()\n\n  this.add = function (k, v) {\n    if (!k || !v) throw Error('Invalid arguments.')\n\n    if (v.size) size += v.size\n\n    if (!data.has(k)) {\n      data.set(k, v)\n    } else {\n      const pathObject = data.get(k)\n\n      if (pathObject.data/** k is a directory with data prop */) {\n        if (pathObject.size && v.size) pathObject.size += v.size\n        pathObject.data.set(v.id, v)\n      }\n    }\n  }\n\n  this.get = function (path) {\n    if (!path) throw Error('Invalid path.', path)\n\n    let result = new Map()\n\n    /* Get directories */\n    data.forEach((v, k) => {\n      if (path === '/') {\n        /* is root.\n        return directory with path like this: \"/dir/\" (two slashes) */\n        if ((k.match(/\\//g) || []).length === 2) result.set(k, v)\n      } else {\n        if (k !== path && k.startsWith(path)) {\n          /* return directory with path like this: \"dir/\" (one slash) */\n          if ((k.replace(path, '').match(/\\//g) || []).length === 1) {\n            result.set(k, v)\n          }\n        }\n      }\n    })\n\n    /* Get files */\n    const pathObject = data.get(path)\n    if (pathObject) {\n      if (pathObject.data) {\n        pathObject.data.forEach(d => result.set(d.id, d))\n      }\n    }\n\n    return result\n  }\n\n  this.deletePathData = (path, key) => {\n    return data.get(path).data.delete(key)\n  }\n\n  this.getSize = function () {\n    return size\n  }\n\n  this.set = function (k, v) {\n    data.set(k, v)\n  }\n\n  this.bulkModify = function (parameter, modifier) {\n    data.forEach((v, k) => {\n      if (k.startsWith(parameter)) {\n        v.path = modifier + k.substring(1)\n        data.set(v.path, v)\n        data.delete(k)\n      }\n    })\n  }\n\n  this.deleteByPath = function (path) {\n    data.delete(path)\n  }\n\n  this.delete = function (object) {\n    if (object.type === 'directory') {\n      data.delete(object.path)\n    } else {\n      const pathObject = data.get(object.path)\n      if (pathObject.size && object.size) pathObject.size -= object.size\n      pathObject.data.delete(object.id)\n    }\n  }\n\n  this.log = () => {\n    console.info(data)\n  }\n}\n\nconst getInstance = () => {\n  if (!instance) instance = new Storage()\n  return instance\n}\n\nexport { Storage, getInstance }\n", "import { getInstance as getStorage } from \"./storage\"\n\nlet instance\n\nconst storage = getStorage()\n\nfunction CustomFileSystem() {\n  const MAX_INT = 9007199254740991\n  const MAX_INT_MOD = -3\n  const DEFAULT_SIZE = 1\n\n  let id = 0\n  let string = getRandomString()\n\n  this.listener = new Map()\n  this.directoryListener = {}\n\n  function getRandomString() {\n    return Math.random().toString(36).slice(2, 5)\n  }\n\n  function getId() {\n    if (id > MAX_INT + MAX_INT_MOD) {\n      id = 0\n      string = getRandomString()\n    }\n\n    return ++id + string\n  }\n\n  function createFileSystemObject(options = {}) {\n    const { type, name, path } = options\n\n    const id = type.slice(0, 1) + getId()\n\n    return {\n      id,\n      path: type === 'directory' ? path + id + '/' : path,\n      type,\n      name: name || type,\n      size: DEFAULT_SIZE\n    }\n  }\n\n  this.createFile = function (options = {}) {\n    const file = createFileSystemObject({\n      type: 'file',\n      ...options\n    })\n\n    this.listener.forEach((v, k) => {\n      v({ event: CustomFileSystem.CREATE_FILE, data: file })\n    })\n\n    return file\n  }\n\n  this.createDirectory = function (options = {}) {\n    const directory = {\n      ...createFileSystemObject({ type: 'directory', ...options }),\n      data: new Map(),\n    }\n\n    this.listener.forEach((v, k) => {\n      v({ event: CustomFileSystem.CREATE_DIRECTORY, data: directory })\n    })\n\n    return directory\n  }\n\n  this.createRootDirectory = function () {\n    return {\n      ...createFileSystemObject({ type: 'directory' }),\n      path: '/',\n      name: 'root',\n      data: new Map(),\n      isSystemFile: true\n    }\n  }\n\n  this.createSystemDirectory = function (name) {\n    return {\n      ...createFileSystemObject({ type: 'directory' }),\n      path: '/' + name + '/',\n      name,\n      data: new Map(),\n      isSystemFile: true\n    }\n  }\n\n  this.getParentPath = (path) => {\n    const splitted = path.split('/')\n    splitted.pop()\n    if (splitted.length > 1) splitted.pop()\n\n    return splitted.join('/') + '/'\n  }\n\n  this.isSystemFile = (d) => {\n    return d.isSystemFile\n  }\n\n  this.addListener = (k, v) => {\n    this.listener.set(k, v)\n  }\n\n  this.listenToDirectory = (directory, fn) => {\n    if (!this.directoryListener[directory.id]) {\n      this.directoryListener[directory.id] = []\n    } else {\n      this.directoryListener[directory.id].push(fn)\n    }\n  }\n\n  this.rename = function (d, newName) {\n    d.name = newName\n    return d\n  }\n\n  this.read = function (d) {\n    console.info(d)\n  }\n\n  this.addToStorage = function (object = {}) {\n    storage.add(object.path, object)\n\n    this.listener.forEach((v, k) => {\n      v({ event: CustomFileSystem.ADD_TO_STORAGE, data: object })\n    })\n  }\n\n  this.move = function (toBeMoved, target) {\n    if (target.type !== 'directory') return\n\n    if (toBeMoved.type === 'file') {\n      target.data.set(toBeMoved.id, toBeMoved)\n      storage.deletePathData(toBeMoved.path, toBeMoved.id)\n    } else {\n      storage.bulkModify(toBeMoved.path, target.path)\n    }\n\n    this.listener.forEach((v, k) => {\n      v({ event: CustomFileSystem.MOVE, data: { toBeMoved, target } })\n    })\n  }\n\n  this.set = function (k, v) {\n    storage.set(k, v)\n  }\n\n  this.get = function (path) {\n    return storage.get(path)\n  }\n\n  this.delete = function (object = {}) {\n    this.listener.forEach((v, k) => {\n      v({ event: CustomFileSystem.DELETE, data: object })\n    })\n\n    storage.delete(object)\n  }\n\n  /* Initialize storage root directory */\n  const rootDirectory = this.createRootDirectory()\n  storage.add('/', rootDirectory)\n}\n\nCustomFileSystem.ADD_TO_STORAGE = 'addToStorage'\nCustomFileSystem.CREATE_FILE = 'createFile'\nCustomFileSystem.CREATE_DIRECTORY = 'createDirectory'\nCustomFileSystem.DELETE = 'delete'\nCustomFileSystem.MOVE = 'move'\n\nconst getInstance = () => {\n  if (!instance) instance = new CustomFileSystem()\n  return instance\n}\n\nexport const MOVE = CustomFileSystem.MOVE\nexport const DELETE = CustomFileSystem.DELETE\nexport const CREATE_FILE = CustomFileSystem.CREATE_FILE\nexport const CREATE_DIRECTORY = CustomFileSystem.CREATE_DIRECTORY\nexport const ADD_TO_STORAGE = CustomFileSystem.ADD_TO_STORAGE\n\nexport { CustomFileSystem, getInstance }\n\n/* @todo add test */\n// const fs = new CustomFileSystem()\n// const f = fs.createFile()\n// const d = fs.createDirectory()\n// fs.read(f)\n// fs.read(d)\n// fs.addToDirectory(f, d)\n// fs.read(d)", "import { getInstance as getGUI } from \"../graphical-user-interface\"\nimport { getInstance as getFS, CREATE_FILE, CREATE_DIRECTORY, MOVE, DELETE } from \"../file-system\"\n\nconst fs = getFS()\nconst ui = getGUI()\n\nfunction Desktop(os) {\n  const self = this\n  this.name = 'Desktop'\n\n  this.path = '/desktop/'\n\n  this.iconDomMap = {}\n\n  const $desktop = document.createElement('div')\n  $desktop.id = '$desktop'\n  $desktop.style.position = 'fixed'\n  $desktop.style.left = 0\n  $desktop.style.top = 0\n  $desktop.style.width = '100vw'\n  $desktop.style.height = '100vh'\n  $desktop.oncontextmenu = e => {\n    e.preventDefault()\n\n    const $createFile = document.createElement('button')\n    $createFile.innerHTML = 'Create file'\n    $createFile.onclick = () => {\n      const file = fs.createFile({\n        name: null,\n        path: this.path\n      })\n\n      fs.addToStorage(file)\n    }\n\n    const $closeAllWindow = document.createElement('button')\n    $closeAllWindow.innerHTML = 'Close All Window'\n    $closeAllWindow.onclick = function () {\n      ui.closeAllWindow()\n    }\n\n    const $contextMenus = [\n      $closeAllWindow,\n      $createFile,\n    ]\n\n    ui.showContextMenu(e.clientX, e.clientY, $contextMenus)\n  }\n\n  const desktopDirectory = fs.createSystemDirectory('desktop')\n  fs.addToStorage(desktopDirectory)\n\n  fs.listenToDirectory(desktopDirectory, (objects) => {\n    $desktop.innerHTML = ''\n    objects.forEach(object => {\n      renderIcon(object)\n    });\n  })\n\n  function renderIcon(data) {\n    const $d = document.createElement('div')\n    $d.innerHTML = JSON.stringify(data)\n    $d.style.background = '#222'\n    $d.style.maxWidth = '100px'\n    $d.style.maxHeight = '100px'\n    $d.style.overflow = 'auto'\n\n    const $icon = ui.createIcon(data.id, $d)\n    if (data.type === 'file') {\n      $icon.ondblclick = () => {\n        os.run('File Reader', data)\n      }\n\n      $icon.oncontextmenu = (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n\n        ui.destroyContextMenu()\n\n        const $contextMenus = []\n\n        const $open = document.createElement('button')\n        $open.innerHTML = 'Open'\n        $open.onclick = () => {\n          os.run('File Reader', data)\n        }\n        $contextMenus.push($open)\n\n        ui.showContextMenu(e.clientX, e.clientY, $contextMenus)\n      }\n    }\n    self.iconDomMap[data.id] = $icon\n\n    $desktop.appendChild($icon)\n  }\n\n  fs.addListener('desktop.app', payload => {\n    if (!payload) return\n    if (!payload.event || !payload.data) return\n\n    if (payload.event === CREATE_FILE) {\n      if (payload.data.path !== this.path) return\n\n      renderIcon(payload.data)\n    }\n    else if (payload.event === CREATE_DIRECTORY) {\n      if (!payload.data.path) return\n      if (payload.data.path.startsWith(this.path) === false) return\n      if ((payload.data.path.match(/\\//g) || []).length !== 3) return\n\n      renderIcon(payload.data)\n    }\n    // else if (payload.event === MOVE) {\n    //     if (!payload.data.toBeMoved || !payload.data.target) return\n\n    //     console.log(payload)\n\n    //     let shouldRender = false;\n    //     let shouldDelete = false;\n\n    //     /* Check to be moved */\n    //     if (payload.data.toBeMoved.path === this.path) {\n    //         console.log('should delete file')\n    //         shouldRender = true\n    //     } else if (payload.data.toBeMoved.path.startsWith(this.path) && (payload.data.toBeMoved.path.match(/\\//g) || []).length === 3) {\n    //         console.log('should delete directory')\n    //         shouldRender = true\n    //     }\n\n    //     if (shouldRender) {\n    //         shouldRender = false\n    //         renderIcon(payload.data.target)\n    //     }\n\n    //     /* Check target */\n    //     if (payload.data.target.path === this.path) {\n    //         shouldDelete = true\n    //     } else if (payload.data.target.path.startsWith(this.path) && (payload.data.target.path.match(/\\//g) || []).length === 3) {\n    //         shouldDelete = true\n    //     }\n\n    //     if (shouldDelete) {\n    //         shouldDelete = false\n    //         // this.iconDomMap[payload.data.toBeMoved.id].remove()\n    //     }\n    // }\n    else if (payload.event === DELETE) {\n      if (!payload.data.path) return\n      if (payload.data.path === this.path || (\n        payload.data.path.startsWith(this.path)\n        && (payload.data.path.match(/\\//g) || []).length === 3\n      )) {\n        this.iconDomMap[payload.data.id].remove()\n      }\n    }\n  })\n\n  this.start = () => {\n    document.body.appendChild($desktop)\n  }\n}\n\nexport { Desktop }\n", "export function DockUI(theme) {\n  const $element = document.createElement('div')\n  $element.style.boxSizing = 'border-box'\n  $element.style.position = 'fixed'\n  $element.style.zIndex = 9\n  $element.style.left = 0\n  $element.style.bottom = 0\n  $element.style.width = '100%'\n  $element.style.padding = '8px'\n  $element.style.boxSizing = 'border-box'\n  $element.style.borderTop = `${theme.borderWidth}px ${theme.borderStyle}`\n  $element.style.backgroundColor = theme.backgroundColor\n\n  /* Layouting */\n  const $layout = document.createElement('table')\n\n  const $menuTriggerTd = document.createElement('td')\n  $menuTriggerTd.setAttribute('width', '100%')\n  const $menuTrigger = document.createElement('button')\n  $menuTrigger.innerHTML = 'Menu'\n  $menuTriggerTd.appendChild($menuTrigger)\n  $layout.appendChild($menuTriggerTd)\n\n  const $clockTd = document.createElement('td')\n  const $clock = document.createElement('span')\n  const now = new Date()\n  $clock.innerHTML = `${now.getHours()}:${now.getMinutes()}`\n  $clockTd.appendChild($clock)\n  $layout.appendChild($clockTd)\n\n  $element.appendChild($layout)\n\n  /* Post-rendering */\n  const $menu = document.createElement('div')\n  $menu.style.display = 'none'\n  $menu.style.position = 'absolute'\n  $menu.style.left = 0\n  $menu.style.width = '200px'\n  $menu.style.height = '200px'\n  $menu.style.padding = '8px'\n  $menu.style.borderRight = `${theme.borderWidth}px ${theme.borderStyle}`\n  $menu.style.borderTop = `${theme.borderWidth}px ${theme.borderStyle}`\n  $menu.style.backgroundColor = theme.backgroundColor\n\n  $element.appendChild($menu)\n\n  /* Wait to get updated $element offsetHeight */\n  setTimeout(() => {\n    $menu.style.bottom = $element.offsetHeight + 'px'\n  }, 200)\n\n  /* Methods */\n  /* Theme feature */\n  this.setTheme = function (theme) {\n    $element.style.backgroundColor = theme.style.body.backgroundColor\n    $menu.style.backgroundColor = theme.style.body.backgroundColor\n  }\n\n  this.addToMenu = (element) => {\n    element.style.display = 'block'\n    $menu.appendChild(element)\n  }\n\n  this.clear = () => $menu.innerHTML = ''\n  this.closeMenu = () => $menu.style.display = 'none'\n\n  $menuTrigger.onclick = () => {\n    /* Toggle menu */\n    if ($menu.style.display === 'none') $menu.style.display = 'block'\n    else if ($menu.style.display === 'block') $menu.style.display = 'none'\n  }\n\n  this.getMenuElement = () => $menu\n  this.getMenuTrigger = () => $menuTrigger\n\n  this.render = () => document.body.appendChild($element)\n  this.destroy = () => $element.remove()\n}\n", "'use strict'\n\nimport { DockUI } from './dock.ui'\nimport { hardware } from '../../hardware'\nimport * as SoftwareManager from '../../software-manager'\nimport * as UI from '../../graphical-user-interface'\n\nconst ui = UI.getInstance()\n\nfunction Dock() {\n  const self = this\n  this.name = 'Dock'\n\n  const softwareManager = SoftwareManager.getInstance()\n\n  softwareManager.addEventListener('install', () => {\n    this.refresh()\n  })\n\n  this.ui = new DockUI(ui.getTheme())\n  ui.addThemeListener(theme => self.ui.setTheme(theme))\n\n  hardware.addListener('Dock', 'mousedown', e => {\n    if (\n      e.target !== self.ui.getMenuElement()\n      && e.target !== self.ui.getMenuTrigger()\n      && e.target instanceof HTMLButtonElement === false\n    ) {\n      self.ui.closeMenu()\n    }\n  })\n\n  this.refresh = () => {\n    self.ui.clear()\n    softwareManager.getAllExcepts(['Dock', 'Desktop']).forEach(function (app) {\n      const $trigger = document.createElement('button')\n      $trigger.innerHTML = app.name\n      $trigger.onclick = () => app.start()\n      self.ui.addToMenu($trigger)\n    })\n  }\n\n  this.start = () => {\n    this.ui.render()\n    this.refresh()\n  }\n\n  this.stop = () => {\n    this.ui.destroy()\n  }\n}\n\nexport { Dock }", "import { getInstance as getGUI } from \"../graphical-user-interface\"\nimport { getInstance as getFS } from \"../file-system\"\n\nconst fs = getFS()\nconst ui = getGUI()\n\nfunction FileManager(os) {\n  const self = this\n  this.name = 'File Manager'\n\n  this.currentPath = '/'\n\n  this.getHead = () => {\n    const $head = document.createElement('div')\n    $head.style.marginBottom = '8px'\n\n    /* Create file */\n    const $createFileButton = document.createElement('button')\n    $createFileButton.innerHTML = 'create file'\n    $createFileButton.onclick = () => {\n      const file = fs.createFile({\n        name: null,\n        path: this.currentPath\n      })\n\n      fs.addToStorage(file)\n\n      this.reload()\n    }\n    $head.appendChild($createFileButton)\n\n    /* Create directory */\n    const $createDirectory = document.createElement('button')\n    $createDirectory.innerHTML = 'create directory'\n    $createDirectory.onclick = () => {\n      const directory = fs.createDirectory({\n        name: null,\n        path: this.currentPath\n      })\n\n      fs.addToStorage(directory)\n\n      this.reload()\n    }\n    $head.appendChild($createDirectory)\n\n    /* Back button and breadcrumb */\n    const $back = document.createElement('button')\n    $back.innerHTML = 'back'\n    $back.onclick = () => {\n      this.currentPath = fs.getParentPath(this.currentPath)\n\n      this.reload()\n    }\n    const $path = document.createElement('p')\n    $path.innerHTML = this.currentPath\n    $head.appendChild($back)\n    $head.appendChild($path)\n\n    return $head\n  }\n\n  this.getBody = () => {\n    const $body = document.createElement('div')\n    const $table = this.generateTable()\n    $body.appendChild($table)\n\n    return $body\n  }\n\n  this.getRoot = () => {\n    const $root = document.createElement('div')\n    const $head = this.getHead()\n    const $body = this.getBody()\n\n    $root.appendChild($head)\n    $root.appendChild($body)\n\n    return $root\n  }\n\n  this.reload = () => {\n    const $root = this.getRoot()\n    ui.setWindowContent(this.name, $root)\n  }\n\n  this.openDirectory = (directory) => {\n    this.currentPath = directory.path\n    this.reload()\n  }\n\n  function createTd() {\n    const td = document.createElement('td')\n    td.style.border = '1px solid'\n    td.style.padding = '4px'\n    return td\n  }\n\n  function createTh(text) {\n    const th = document.createElement('th')\n    th.style.border = '1px solid'\n    th.style.padding = '4px'\n    th.innerHTML = text\n    return th\n  }\n\n  this.generateTable = () => {\n    const data = fs.get(this.currentPath)\n    const $table = document.createElement('table')\n    $table.style.borderCollapse = 'collapse'\n    $table.style.width = '100%'\n\n    const $thead = document.createElement('thead')\n    const $tr = document.createElement('tr')\n    $tr.appendChild(createTh('ID'))\n    $tr.appendChild(createTh('Name'))\n    $tr.appendChild(createTh('Type'))\n    $tr.appendChild(createTh('Size'))\n    $thead.appendChild($tr)\n    $table.appendChild($thead)\n\n    const $tbody = document.createElement('tbody')\n    $table.appendChild($tbody)\n\n    let dragged\n\n    data.forEach(d => {\n      const tr = document.createElement('tr')\n\n      if (!d.isSystemFile) {\n        tr.draggable = true\n\n        tr.ondragstart = () => dragged = d\n      }\n\n      tr.ondragenter = e => {\n        tr.style.backgroundColor = 'yellow'\n      }\n\n      tr.ondragleave = e => {\n        tr.style.backgroundColor = 'initial'\n      }\n\n      /* enable drop */\n      tr.ondragover = e => e.preventDefault()\n      tr.ondrop = () => {\n        tr.style.backgroundColor = 'initial'\n\n        /* Prevent dropping in itself */\n        if (!dragged.path.includes(d.path)) {\n          fs.move(dragged, d)\n          this.reload()\n        }\n      }\n\n      tr.onmousedown = function (e) {\n        // check if right click\n        if (e.button === 2) {\n          tr.style.backgroundColor = '#666'\n          setTimeout(() => {\n            tr.style.backgroundColor = 'initial'\n          }, 200);\n        } else {\n          tr.style.backgroundColor = '#666'\n        }\n      }\n      tr.onmouseup = function (e) {\n        tr.style.backgroundColor = 'initial'\n      }\n\n      const tdId = createTd()\n      const tdType = createTd()\n      const tdName = createTd()\n      const tdSize = createTd()\n\n      tr.oncontextmenu = function (e) {\n        e.preventDefault()\n\n        const $contextMenus = []\n\n        const $open = document.createElement('button')\n        $open.innerHTML = 'Open'\n        $open.onclick = () => {\n          if (d.type === 'file') {\n            os.run('File Reader', d)\n          } else if (d.type === 'directory') {\n            self.openDirectory(d)\n          }\n        }\n        $contextMenus.push($open)\n\n        if (!fs.isSystemFile(d)) {\n          const $rename = document.createElement('button')\n          $rename.innerHTML = 'Rename'\n          const handleSubmit = (e) => {\n            const newData = fs.rename(d, e.target.innerHTML)\n            tdName.contentEditable = false\n            fs.set(d.id, newData)\n          }\n          $rename.onclick = () => {\n            tdName.contentEditable = true\n            tdName.focus()\n\n            setTimeout(() => {\n              const range = document.createRange();\n              range.selectNodeContents(tdName)\n              var sel = window.getSelection();\n              sel.removeAllRanges();\n              sel.addRange(range);\n            }, 50)\n\n            tdName.onkeydown = e => {\n              if (e.key === 'Enter') {\n                e.target.blur()\n              }\n            }\n            tdName.onblur = e => handleSubmit(e)\n          }\n          $contextMenus.push($rename)\n\n          const $delete = document.createElement('button')\n          $delete.innerHTML = 'Delete'\n          $delete.onclick = () => {\n            fs.delete(d)\n            self.reload()\n          }\n          $contextMenus.push($delete)\n        }\n\n        ui.showContextMenu(e.clientX, e.clientY, $contextMenus)\n      }\n\n      tr.ondblclick = () => {\n        if (d.type === 'file') {\n          /* @todo add error handling */\n          os.run('File Reader', d)\n        } else if (d.type === 'directory') {\n          self.openDirectory(d)\n        }\n      }\n\n      tdId.innerHTML = d.id\n      tdType.innerHTML = d.type\n      tdName.innerHTML = d.isSystemFile ? '.' + d.name : d.name\n      tdSize.innerHTML = d.size\n\n      tr.appendChild(tdId)\n      tr.appendChild(tdName)\n      tr.appendChild(tdType)\n      tr.appendChild(tdSize)\n\n      $tbody.appendChild(tr)\n    });\n\n    return $table\n  }\n\n  fs.addListener('file-manager.app', payload => {\n    if (!payload) return\n    if (!payload.event || !payload.data) return\n\n    this.reload()\n  })\n\n  this.start = () => {\n    ui.createWindow({ name: this.name, resizeable: true, draggable: true, initialWidth: 300 })\n    this.reload()\n  }\n}\n\nexport { FileManager }\n", "import { getInstance as getGUI } from \"../graphical-user-interface\"\n\nconst ui = getGUI()\n\nfunction CustomFileReader() {\n  this.name = 'File Reader'\n  this.file = undefined\n\n  this.getContent = function () {\n    if (!this.file) {\n      const $open = document.createElement('button')\n      $open.onclick = function () {\n        ui.createWindow({ name: 'file prompt', resizeable: true, draggable: true })\n      }\n      $open.innerHTML = 'Open File'\n      return $open\n    } else {\n      const $content = document.createElement('div')\n      $content.style.wordBreak = 'break-all'\n      $content.style.userSelect = 'text'\n      $content.oncontextmenu = e => e.stopPropagation()\n      $content.innerHTML = JSON.stringify(this.file)\n      return $content\n    }\n  }\n\n  this.start = (file) => {\n    if (file) this.file = file\n    const customWindow = ui.createWindow({ name: this.name, resizeable: true, draggable: true })\n\n    ui.sendToTop(customWindow)\n\n    const $content = this.getContent()\n\n    ui.setWindowContent(this.name, $content)\n  }\n}\n\nexport { CustomFileReader }", "import { getInstance as getGUI } from \"../graphical-user-interface\"\n\nconst ui = getGUI()\n\nfunction Settings() {\n  this.name = 'Settings'\n\n  this.getContent = function () {\n    const $content = document.createElement('div')\n\n    const $darkTheme = document.createElement('button')\n    $darkTheme.onclick = function () {\n      ui.setTheme('dark')\n    }\n    $darkTheme.innerHTML = 'Change to Dark Theme'\n    $content.appendChild($darkTheme)\n\n    const $lightTheme = document.createElement('button')\n    $lightTheme.onclick = function () {\n      ui.setTheme('light')\n    }\n    $lightTheme.innerHTML = 'Change to Light Theme'\n    $content.appendChild($lightTheme)\n\n    return $content\n  }\n\n  this.start = () => {\n    const customWindow = ui.createWindow({ name: this.name, resizeable: true, draggable: true })\n\n    ui.sendToTop(customWindow)\n\n    const $content = this.getContent()\n\n    ui.setWindowContent(this.name, $content)\n  }\n}\n\nexport { Settings }\n", "import { getInstance as getGUI } from \"../graphical-user-interface\"\n\nconst ui = getGUI()\n\nfunction WindowCreator() {\n  this.name = 'Window Creator'\n\n  this.start = () => {\n    ui.createWindow({ name: this.name, resizeable: true, draggable: true })\n\n    /* Window creator */\n    const $create = document.createElement('button')\n    $create.innerHTML = 'create window'\n    $create.onclick = () => {\n      ui.createWindow({ draggable: true, resizeable: true })\n    }\n\n    ui.setWindowContent(this.name, $create)\n  }\n}\n\nexport { WindowCreator }\n", "'use strict';\n\nimport { getInstance as getGUI } from \"./graphical-user-interface\";\nimport { getInstance as getSoftwareManager } from \"./software-manager\";\nimport { Desktop } from \"./softwares/desktop\";\nimport { Dock } from \"./softwares/dock/dock\";\nimport { FileManager as FileManagerApp } from \"./softwares/file-manager\";\nimport { CustomFileReader as FileReaderApp } from \"./softwares/file-reader\";\nimport { Settings as SettingsApp } from \"./softwares/settings\";\nimport { WindowCreator as WindowCreatorApp } from \"./softwares/window-creator\";\n\nlet instance\n\nfunction OperatingSystem() {\n  const ui = getGUI()\n  const softwareManager = getSoftwareManager()\n\n  this.boot = () => {\n    ui.init()\n\n    /* Install default softwares */\n    softwareManager.install(new Dock())\n    softwareManager.install(new SettingsApp())\n    softwareManager.install(new FileManagerApp(instance))\n    softwareManager.install(new WindowCreatorApp())\n    softwareManager.install(new FileReaderApp())\n    softwareManager.install(new Desktop(instance))\n\n    /* Run default softwares */\n    softwareManager.get('Dock').start()\n    softwareManager.get('Desktop').start()\n  }\n\n  this.run = function (appKey, payload) {\n    softwareManager.run(appKey, payload)\n  }\n}\n\nconst getInstance = () => {\n  if (!instance) instance = new OperatingSystem()\n  return instance\n}\n\nexport { OperatingSystem, getInstance }\n", "import { getInstance } from \"./modules/operating-system\"\n\nconst os = getInstance()\n\n/* A. Auto Boot */\nos.boot()\n\n/* B. Manual Boot */\n// const $boot = document.createElement('button')\n// $boot.innerHTML = 'boot'\n// $boot.onclick = () => {\n//     os.boot()\n//     $boot.remove()\n// }\n// document.body.appendChild($boot)\n"],
  "mappings": "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",
  "names": ["BODY", "theme", "BODY", "instance", "getInstance", "instance", "getInstance", "instance", "getInstance", "id", "getInstance", "os", "theme", "ui", "getInstance", "fs", "getInstance", "ui", "os", "e", "ui", "ui", "ui", "instance", "ui", "getInstance", "getInstance"]
}
